<div class="container page">
  <h1>Manor Generator</h1>

  <div class="row">
    <div class="col-sm-6"><h2>Tennants</h2></div>
    <div class="col-sm-6 text-right">
      <a class="btn btn-danger btn-sm" (click)="onResetClick()"><i class="fa fa-recycle"></i> Clear</a>
    </div>
  </div>

  <table class="table table-bordered table-striped table-hover table-sm"
         *ngIf="tenants?.length > 0; else noTennants">
    <thead class="thead-dark">
    <tr>
      <th>Occupation</th>
      <th>Size</th>
      <th>ML</th>
      <th>Serf</th>
      <th>Free</th>
      <th>Labor<br>Days</th>
      <th>Rent</th>
      <th>Fees</th>
      <th>Notes</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let tenant of tenants">
      <td *ngIf="tenant.craft">{{tenant.craft}}</td>
      <td *ngIf="!tenant.craft">{{tenant.occupation}}</td>
      <td>{{tenant.size}}</td>
      <td>{{tenant.ml}}</td>
      <td>{{tenant.serf_acres}}</td>
      <td>{{tenant.free_acres}}</td>
      <td>{{tenant.labor_days}}</td>
      <td>{{tenant.rent}}</td>
      <td>{{tenant.fees}}</td>
      <td>{{tenant.note}}</td>
    </tr>
    <tr>
      <td>Totals:</td>
      <td>{{tenantTotals.size}}</td>
      <td></td>
      <td>{{tenantTotals.serf_acres}}</td>
      <td>{{tenantTotals.free_acres}}</td>
      <td>{{tenantTotals.labor_days}}</td>
      <td>{{tenantTotals.rent}}</td>
      <td>{{tenantTotals.fees}}</td>
      <td></td>
    </tr>
    </tbody>
  </table>

  <ng-template #noTennants>
    <h5>Generate Tennants</h5>
    <div class="row">
      <div class="form-group col">
        <label>Cleared Acres:</label>
        <input
          type="text" class="form-control"
          [(ngModel)]="clearedAcres" name="clearedAcres"
        >
      </div>
      <div class="form-group col">
        <label>Land Quality:</label>
        <input
          type="text" class="form-control"
          [(ngModel)]="landQuality" name="landQuality"
        >
      </div>
      <div class="form-group col">
        <label>Free Rent/Acre:</label>
        <input
          type="text" class="form-control"
          [(ngModel)]="freeRent" name="freeRent"
        >
      </div>
      <div class="form-group  col">
        <label>Labor Days/Acre:</label>
        <input
          type="text" class="form-control"
          [(ngModel)]="serfLabor" name="serfLabor"
        >
      </div>
    </div>
    <div class="row">
      <div class="form-group">
        <label>Save State?</label>
        <input type="checkbox"
               [checked]="isSlaveState"
               (change)="isSlaveState = !isSlaveState"
               name="isSlaveState">
      </div>
    </div>
    <div class="row">
      <a class="btn btn-primary" (click)="onPopulateClick()"><i class="fa fa-users"></i> Populate</a>
    </div>
  </ng-template>
</div>
