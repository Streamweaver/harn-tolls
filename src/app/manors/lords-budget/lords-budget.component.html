<table class="table table-striped table-sm" [formGroup]="lordsBudgetForm">
  <thead class="thead-dark
">
  <tr>
    <th class="font-weight-bold">Lord's Budget</th>
    <th class="font-weight-bold text-center" width="10%">CR</th>
    <th class="font-weight-bold text-right" width="15%">Kind</th>
  </tr>
  </thead>
  <tbody>
  <tr>
    <td >Demesne Income</td>
    <td class="text-center"></td>
    <td class="text-right">{{demesneIncome() | number}}d</td>
  </tr>
  <tr>
    <td >Tenant Rents & Fees</td>
    <td class="text-center"></td>
    <td class="text-right">{{this.tenants.rent + this.tenants.fees | number}}d</td>
  </tr>
  <tr>
    <td >Glebe Revenue</td>
    <td class="text-center"></td>
    <td class="text-right">{{getGlebeRevenue() | number}}d</td>
  </tr>
  <tr [ngClass]="{'alert alert-danger': lordsBudgetForm.controls['taxes'].invalid && (lordsBudgetForm.controls['taxes'].dirty || lordsBudget.Formcontrols['taxes'].touched)}">
    <td >Taxes & Tolls</td>
    <td class="text-center"></td>
    <td class="text-right">
      <div class="input-group input-group-sm">
        <input type="number" class="form-control text-right" formControlName="taxes" [(ngModel)]="manor.taxIncome">
      </div>
    </td>
  </tr>
  <tr *ngIf="lordsBudgetForm.controls['taxes'].invalid && (lordsBudgetForm.controls['taxes'].dirty || lordsBudgetForm.controls['taxes'].touched)" class="alert alert-danger small">
    <td colspan="3">
      <div *ngIf="lordsBudgetForm.controls['taxes'].errors.required">
        Required
      </div>
      <div *ngIf="lordsBudgetForm.controls['taxes'].errors.min">
        cannot be less than 0
      </div>
    </td>
  </tr>

  <tr [ngClass]="{'alert alert-danger': lordsBudgetForm.controls['amercements'].invalid && (lordsBudgetForm.controls['amercements'].dirty || lordsBudget.Formcontrols['amercements'].touched)}">
    <td >Amercements</td>
    <td class="text-center">{{manor.amercements.beadleCheck}}</td>
    <td class="text-right">
      <div class="input-group input-group-sm">
        <input type="number" class="form-control text-right" formControlName="amercements"
               [(ngModel)]="manor.amercements.amount">
      </div>
    </td>
  </tr>
  <tr *ngIf="lordsBudgetForm.controls['amercements'].invalid && (lordsBudgetForm.controls['amercements'].dirty || lordsBudgetForm.controls['amercements'].touched)" class="alert alert-danger small">
    <td colspan="3">
      <div *ngIf="lordsBudgetForm.controls['amercements'].errors.required">
        Required
      </div>
      <div *ngIf="lordsBudgetForm.controls['amercements'].errors.min">
        cannot be less than 0
      </div>
    </td>
  </tr>

  <tr [ngClass]="{'alert alert-danger': lordsBudgetForm.controls['feudalIncome'].invalid && (lordsBudgetForm.controls['feudalIncome'].dirty || lordsBudget.Formcontrols['feudalIncome'].touched)}">
    <td >Feudal Income</td>
    <td class="text-center"></td>
    <td class="text-right">
      <div class="input-group input-group-sm">
        <input type="number" class="form-control text-right" formControlName="feudalIncome"
               [(ngModel)]="manor.feudalIncome">
      </div>
    </td>
  </tr>
  <tr *ngIf="lordsBudgetForm.controls['feudalIncome'].invalid && (lordsBudgetForm.controls['feudalIncome'].dirty || lordsBudgetForm.controls['feudalIncome'].touched)" class="alert alert-danger small">
    <td colspan="3">
      <div *ngIf="lordsBudgetForm.controls['feudalIncome'].errors.required">
        Required
      </div>
      <div *ngIf="lordsBudgetForm.controls['feudalIncome'].errors.min">
        cannot be less than 0
      </div>
    </td>
  </tr>

  <tr class="table-summary">
    <td class="font-weight-bold">Total Income</td>
    <td class="font-weight-bold text-center"></td>
    <td class="font-weight-bold text-right">{{totalIncome() | number}}d</td>
  </tr>
  <tr>
    <td >Household</td>
    <td class="text-center"></td>
    <td class="text-right">{{householdKind | number}}d</td>
  </tr>

  <tr [ngClass]="{'alert alert-danger': lordsBudgetForm.controls['feudalPayments'].invalid && (lordsBudgetForm.controls['feudalPayments'].dirty || lordsBudget.Formcontrols['feudalPayments'].touched)}">
    <td>Feudal Payments</td>
    <td class="text-center"></td>
    <td class="text-right">
      <div class="input-group input-group-sm">
        <input type="number" class="form-control text-right" formControlName="feudalPayments"
               [(ngModel)]="manor.feudalPayments">
      </div>
    </td>
  </tr>
  <tr *ngIf="lordsBudgetForm.controls['feudalPayments'].invalid && (lordsBudgetForm.controls['feudalPayments'].dirty || lordsBudgetForm.controls['feudalPayments'].touched)" class="alert alert-danger small">
    <td colspan="3">
      <div *ngIf="lordsBudgetForm.controls['feudalPayments'].errors.required">
        Required
      </div>
      <div *ngIf="lordsBudgetForm.controls['feudalPayments'].errors.min">
        cannot be less than 0
      </div>
    </td>
  </tr>

  <tr [ngClass]="{'alert alert-danger': lordsBudgetForm.controls['tithe'].invalid && (lordsBudgetForm.controls['tithe'].dirty || lordsBudget.Formcontrols['tithe'].touched)}">
    <td >Tithe</td>
    <td class="text-center"></td>
    <td class="text-right">
      <div class="input-group input-group-sm">
        <input type="number" class="form-control text-right" formControlName="tithe" [(ngModel)]="manor.tithe">
      </div>
    </td>
  </tr>
  <tr *ngIf="lordsBudgetForm.controls['tithe'].invalid && (lordsBudgetForm.controls['tithe'].dirty || lordsBudgetForm.controls['tithe'].touched)" class="alert alert-danger small">
    <td colspan="3">
      <div *ngIf="lordsBudgetForm.controls['tithe'].errors.required">
        Required
      </div>
      <div *ngIf="lordsBudgetForm.controls['tithe'].errors.min">
        cannot be less than 0
      </div>
    </td>
  </tr>

  <tr [ngClass]="{'alert alert-danger': lordsBudgetForm.controls['laborHired'].invalid && (lordsBudgetForm.controls['laborHired'].dirty || lordsBudget.Formcontrols['laborHired'].touched)}">
    <td >Labor Hired</td>
    <td class="text-center"></td>
    <td class="text-right">
      <div class="input-group input-group-sm">
        <input type="number" class="form-control text-right" formControlName="laborHired"
               [(ngModel)]="manor.laborHired">
      </div>
    </td>
  </tr>
  <tr *ngIf="lordsBudgetForm.controls['laborHired'].invalid && (lordsBudgetForm.controls['laborHired'].dirty || lordsBudgetForm.controls['laborHired'].touched)" class="alert alert-danger small">
    <td colspan="3">
      <div *ngIf="lordsBudgetForm.controls['laborHired'].errors.required">
        Required
      </div>
      <div *ngIf="lordsBudgetForm.controls['laborHired'].errors.min">
        cannot be less than 0
      </div>
    </td>
  </tr>

  <tr [ngClass]="{'alert alert-danger': lordsBudgetForm.controls['politicalExpenses'].invalid && (lordsBudgetForm.controls['politicalExpenses'].dirty || lordsBudget.Formcontrols['politicalExpenses'].touched)}">
    <td >Political Expenses</td>
    <td class="text-center"></td>
    <td class="text-right">
      <div class="input-group input-group-sm">
        <input type="number" class="form-control text-right" formControlName="politicalExpenses"
               [(ngModel)]="manor.politicalExpenses">
      </div>
    </td>
  </tr>
  <tr *ngIf="lordsBudgetForm.controls['politicalExpenses'].invalid && (lordsBudgetForm.controls['politicalExpenses'].dirty || lordsBudgetForm.controls['politicalExpenses'].touched)" class="alert alert-danger small">
    <td colspan="3">
      <div *ngIf="lordsBudgetForm.controls['politicalExpenses'].errors.required">
        Required
      </div>
      <div *ngIf="lordsBudgetForm.controls['politicalExpenses'].errors.min">
        cannot be less than 0
      </div>
    </td>
  </tr>

  <tr class="table-summary">
    <td class="font-weight-bold">Total Expenses</td>
    <td class="font-weight-bold text-center"></td>
    <td class="font-weight-bold text-right">{{totalExpenses() | number}}d</td>
  </tr>
  <tr class="table-success">
    <td class="font-weight-bold">To Privy Purse</td>
    <td class="font-weight-bold text-center"></td>
    <td class="font-weight-bold text-right">{{privyPurse() | number}}d</td>
  </tr>
  </tbody>
</table>
